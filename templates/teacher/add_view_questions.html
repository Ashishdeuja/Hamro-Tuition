{% extends 'base.html' %}
{% load static %}
{% block page_title %}{{ page_title }}{% endblock page_title %}
{% block content %}

<style>
  .col-md-4 {
    width: 33.33%; 
    padding: 0 15px;
    margin-bottom: 16px; 
  }
    
  @media only screen and (max-width: 768px) {
  .col-md-4 {
    width: 100%;
    margin-bottom: 16px; 
  }
  }
  
  .mb-4 {
    margin-bottom: 1.5rem;
  }
  @media only screen and (max-width: 768px) {
      .col-md-4 {
      flex-basis: 100%;
      }
      }
  .slide-container{
      max-width: 1120px;
      width: 100%;
      padding: 40px 0;
      display: flex;
          flex-wrap: wrap;
    }
    .slide-content{
      margin: 0 40px;
      overflow: hidden;
      border-radius: 25px;
    }
    .card{
      border-radius: 25px;
      background-color: #FFF;
    }
    .image-content,
    .card-content{
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 10px 14px;
    }
    .image-content{
      position: relative;
      row-gap: 5px;
      padding: 25px 0;
    }
    .overlay{
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 100%;
      background-color: #4070F4;
      border-radius: 25px 25px 0 25px;
    }
    .overlay::before,
    .overlay::after{
      content: '';
      position: absolute;
      right: 0;
      bottom: -40px;
      height: 40px;
      width: 40px;
      background-color: #4070F4;
    }
    .overlay::after{
      border-radius: 0 25px 0 0;
      background-color: #FFF;
    }
    .card-image{
      position: relative;
      height: 150px;
      width: 150px;
      border-radius: 5%;
      background: #FFF;
      padding: 3px;
    }
    .card-image .card-img{
      height: 100%;
      width: 100%;
      object-fit: cover;
      border-radius: 5%;
      
    }
    .name{
      font-size: 18px;
      font-weight: 500;
      color: #333;
      margin-top:8px;
      text-align:center;
    }
    .sub-name{
      font-size: 14px;
      color: #707070;
      text-align: center;
    }
    .description{
      font-size: 14px;
      color: #707070;
      text-align: left;
    }
    .button{
      border: none;
      font-size: 16px;
      color: #FFF;
      padding: 8px 16px;
      background-color: #4070F4;
      border-radius: 6px;
      margin: 14px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .button:hover{
      background: #265DF2;
    }

    .selection {
      display: flex;
      float:right;
      align-items: center;
      margin-bottom: 20px;
      margin-right:280px;
      
    }
    
    .selection label {
      font-weight: bold;
      margin-right: 10px;
    }
    
    .selection select {
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
      
    select:hover{
      cursor: pointer;
    }
    input,input[type="text"] {
      width: 35%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      margin-right: 10px;
      margin-left:2%;
    }
    input{
      width:12%;
    }
    button[type="submit"] {
      width: 10%;
      padding: 10px;
      background-color: #4CAF50;
      color: white;
      border: 1px solid #ccc;
      border-radius: 5px;
      cursor: pointer;
    }
</style>

  <section class="content">
    <div class="container-fluid">
      {% if request.user.user_type == '2' %}
      <div class="row">
        <div class="col-md-12">
          <div class="card card-dark"style="float:right;">
            <div class="card-header">
              <a class="btn btn-primary" href="{% url 'add_question' session_id subject_id %}"><i class="fas fa-plus"></i>Add Question</a>
            </div>
          </div>
        </div>
      </div>
      {% endif %}
      <form method="get">
        {% csrf_token %}
        <input type="text" name="q" placeholder="Search...">
            <button type="submit">Search</button>
        <div class="selection">
        <label>Filter: </label>
        <select name="status" onchange="this.form.submit()">
            <option value="">All</option>
            <option value="easy" {% if request.GET.status == 'easy' %}selected{% endif %}>Easy</option>
            <option value="difficult" {% if request.GET.status == 'difficult' %}selected{% endif %}>Difficult</option>
            
          </select>
        </div>
      </form>
    
      <div class="card-body">
        <table id="example2" class="table table-bordered table-hover">
          <thead >
            <tr>
              <th>S.N.</th>
              <th>Question</th>
              <th>Answer</th>
              <th>Actions</th>
            </tr>
          </thead>
              <tbody>
                {% for questions in question %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{questions.question}}</td>
                    <td>{{questions.ans}}
                    <td>
                        <a href="{% url 'edit_question' questions.id %}" class="btn btn-info">Edit</a> -
                        <a href="{% url 'delete_question' questions.id %}" onclick="return confirm('Are you sure you want to delete this section ?')" class="btn btn-danger">Delete</a> 
                    </td> 
                </tr>
                {% endfor %}
              </tbody>
          </table>
      </div>
</section>
{% endblock %}















